var Ae=Object.defineProperty;var Le=(e,t,n)=>t in e?Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var le=(e,t,n)=>(Le(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function O(){}function Ie(e){return e()}function we(){return Object.create(null)}function F(e){e.forEach(Ie)}function x(e){return typeof e=="function"}function ee(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Pe(e){return Object.keys(e).length===0}function c(e,t){e.appendChild(t)}function E(e,t,n){e.insertBefore(t,n||null)}function C(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function M(){return _(" ")}function z(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function G(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ge(e){return Array.from(e.childNodes)}function T(e,t){t=""+t,e.data!==t&&(e.data=t)}function ve(e,t,n){e.classList.toggle(t,!!n)}let de;function J(e){de=e}const D=[],Ce=[];let q=[];const Be=[],He=Promise.resolve();let se=!1;function Re(){se||(se=!0,He.then(Oe))}function ce(e){q.push(e)}const fe=new Set;let Y=0;function Oe(){if(Y!==0)return;const e=de;do{try{for(;Y<D.length;){const t=D[Y];Y++,J(t),Te(t.$$)}}catch(t){throw D.length=0,Y=0,t}for(J(null),D.length=0,Y=0;Ce.length;)Ce.pop()();for(let t=0;t<q.length;t+=1){const n=q[t];fe.has(n)||(fe.add(n),n())}q.length=0}while(D.length);for(;Be.length;)Be.pop()();se=!1,fe.clear(),J(e)}function Te(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ce)}}function je(e){const t=[],n=[];q.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),q=t}const $=new Set;let H;function Ve(){H={r:0,c:[],p:H}}function Ye(){H.r||F(H.c),H=H.p}function R(e,t){e&&e.i&&($.delete(e),e.i(t))}function Q(e,t,n,r){if(e&&e.o){if($.has(e))return;$.add(e),H.c.push(()=>{$.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ke(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function he(e){e&&e.c()}function te(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),ce(()=>{const i=e.$$.on_mount.map(Ie).filter(x);e.$$.on_destroy?e.$$.on_destroy.push(...i):F(i),e.$$.on_mount=[]}),o.forEach(ce)}function ne(e,t){const n=e.$$;n.fragment!==null&&(je(n.after_update),F(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function De(e,t){e.$$.dirty[0]===-1&&(D.push(e),Re(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,n,r,o,i,l,s=[-1]){const u=de;J(e);const a=e.$$={fragment:null,ctx:[],props:i,update:O,not_equal:o,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:we(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};l&&l(a.root);let g=!1;if(a.ctx=n?n(e,t.props||{},(b,v,...m)=>{const N=m.length?m[0]:v;return a.ctx&&o(a.ctx[b],a.ctx[b]=N)&&(!a.skip_bound&&a.bound[b]&&a.bound[b](N),g&&De(e,b)),v}):[],a.update(),g=!0,F(a.before_update),a.fragment=r?r(a.ctx):!1,t.target){if(t.hydrate){const b=Ge(t.target);a.fragment&&a.fragment.l(b),b.forEach(C)}else a.fragment&&a.fragment.c();t.intro&&R(e.$$.fragment),te(e,t.target,t.anchor),Oe()}J(u)}class oe{constructor(){le(this,"$$");le(this,"$$set")}$destroy(){ne(this,1),this.$destroy=O}$on(t,n){if(!x(n))return O;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const qe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qe);function ae(e){const t=Math.random()*e,n=Math.floor(t);return n===0?ae(e):n}function X(e){return new Array(e).fill(0)}function Fe(e,t){if(e<0||t<=0)throw new Error("Number must be non-negative and length must be greater than 0.");let n=e.toString(2);for(;n.length<t;)n="0"+n;return n.split("").map(Number)}function Ke(e){return e.reduce((t,n,r)=>{const o=n===1?Math.pow(2,e.length-1-r):0;return t+o},0)}function Ue(e){const t=Math.random()*e;return Math.floor(t)}function Ze(e){let t;return{c(){t=_("Reset")},m(n,r){E(n,t,r)},d(n){n&&C(t)}}}function ze(e){let t;return{c(){t=_("Play again")},m(n,r){E(n,t,r)},d(n){n&&C(t)}}}function Je(e){let t,n,r;function o(s,u){return s[1]?ze:Ze}let i=o(e),l=i(e);return{c(){t=w("button"),l.c()},m(s,u){E(s,t,u),l.m(t,null),n||(r=z(t,"click",function(){x(e[0])&&e[0].apply(this,arguments)}),n=!0)},p(s,[u]){e=s,i!==(i=o(e))&&(l.d(1),l=i(e),l&&(l.c(),l.m(t,null)))},i:O,o:O,d(s){s&&C(t),l.d(),n=!1,r()}}}function Qe(e,t,n){let{reset:r}=t,{isCorrect:o}=t;return e.$$set=i=>{"reset"in i&&n(0,r=i.reset),"isCorrect"in i&&n(1,o=i.isCorrect)},[r,o]}class We extends oe{constructor(t){super(),re(this,t,Qe,Je,ee,{reset:0,isCorrect:1})}}function Xe(e){let t,n,r;return{c(){t=_("2"),n=w("sup"),r=_(e[0])},m(o,i){E(o,t,i),E(o,n,i),c(n,r)},p(o,i){i&1&&T(r,o[0])},d(o){o&&(C(t),C(n))}}}function $e(e){let t;return{c(){t=_(e[3])},m(n,r){E(n,t,r)},p(n,r){r&8&&T(t,n[3])},d(n){n&&C(t)}}}function xe(e){let t,n,r;function o(s,u){return s[1]?$e:Xe}let i=o(e),l=i(e);return{c(){t=w("button"),l.c(),G(t,"data-power",e[0]),t.disabled=e[2]},m(s,u){E(s,t,u),l.m(t,null),n||(r=z(t,"click",function(){x(e[4])&&e[4].apply(this,arguments)}),n=!0)},p(s,[u]){e=s,i===(i=o(e))&&l?l.p(e,u):(l.d(1),l=i(e),l&&(l.c(),l.m(t,null))),u&1&&G(t,"data-power",e[0]),u&4&&(t.disabled=e[2])},i:O,o:O,d(s){s&&C(t),l.d(),n=!1,r()}}}function et(e,t,n){let{power:r}=t,{displayBits:o}=t,{isHintGiven:i}=t,{activeId:l}=t,{toggle:s}=t;return e.$$set=u=>{"power"in u&&n(0,r=u.power),"displayBits"in u&&n(1,o=u.displayBits),"isHintGiven"in u&&n(2,i=u.isHintGiven),"activeId"in u&&n(3,l=u.activeId),"toggle"in u&&n(4,s=u.toggle)},[r,o,i,l,s]}class tt extends oe{constructor(t){super(),re(this,t,et,xe,ee,{power:0,displayBits:1,isHintGiven:2,activeId:3,toggle:4})}}function Ee(e,t,n){const r=e.slice();return r[16]=t[n],r[18]=n,r}function nt(e){let t,n,r,o,i,l;return{c(){t=w("h1"),n=_("Your goal is "),r=w("b"),o=_(e[3]),i=_(", but you got: "),l=_(e[4])},m(s,u){E(s,t,u),c(t,n),c(t,r),c(r,o),c(t,i),c(t,l)},p(s,u){u&8&&T(o,s[3]),u&16&&T(l,s[4])},d(s){s&&C(t)}}}function rt(e){let t;return{c(){t=w("h1"),t.textContent="ðŸš€ You won! âœ…"},m(n,r){E(n,t,r)},p:O,d(n){n&&C(t)}}}function Ne(e){let t,n;return t=new tt({props:{activeId:e[7][e[18]]?e[8][e[18]]:e[2][e[18]],toggle:e[11],power:e[16],displayBits:e[1],isHintGiven:!!e[7][e[18]]}}),{c(){he(t.$$.fragment)},m(r,o){te(t,r,o),n=!0},p(r,o){const i={};o&388&&(i.activeId=r[7][r[18]]?r[8][r[18]]:r[2][r[18]]),o&1024&&(i.power=r[16]),o&2&&(i.displayBits=r[1]),o&128&&(i.isHintGiven=!!r[7][r[18]]),t.$set(i)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){Q(t.$$.fragment,r),n=!1},d(r){ne(t,r)}}}function ot(e){let t,n,r,o,i,l,s,u,a,g,b,v,m,N,K,A,U,j=e[1]?"powers":"bits",p,I,V,L,ge,Z,me,ie,pe,B,ue,_e;u=new We({props:{reset:e[12],isCorrect:e[9]}});function be(f,h){return f[9]?rt:nt}let W=be(e),k=W(e),P=ke(e[10]),d=[];for(let f=0;f<P.length;f+=1)d[f]=Ne(Ee(e,P,f));const Me=f=>Q(d[f],1,1,()=>{d[f]=null});return{c(){t=w("main"),n=w("label"),n.textContent="Powers count",r=M(),o=w("input"),i=M(),l=w("br"),s=M(),he(u.$$.fragment),a=M(),g=w("button"),b=_("Give a hint ("),v=_(e[6]),m=_(")"),K=M(),A=w("button"),U=_(`Display
    `),p=_(j),I=M(),k.c(),V=M(),L=w("div");for(let f=0;f<d.length;f+=1)d[f].c();ge=M(),Z=w("h1"),me=_("You made "),ie=_(e[5]),pe=_(" move/s"),G(n,"for","powers-count"),G(o,"id","powers-count"),G(o,"type","number"),G(o,"class","powers-count"),o.value=e[0],g.disabled=N=e[6]<=0||e[9],G(L,"class","list"),ve(L,"won",e[9])},m(f,h){E(f,t,h),c(t,n),c(t,r),c(t,o),c(t,i),c(t,l),c(t,s),te(u,t,null),c(t,a),c(t,g),c(g,b),c(g,v),c(g,m),c(t,K),c(t,A),c(A,U),c(A,p),c(t,I),k.m(t,null),c(t,V),c(t,L);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(L,null);c(t,ge),c(t,Z),c(Z,me),c(Z,ie),c(Z,pe),B=!0,ue||(_e=[z(o,"input",e[13]),z(g,"click",e[14]),z(A,"click",e[15])],ue=!0)},p(f,[h]){(!B||h&1&&o.value!==f[0])&&(o.value=f[0]);const S={};if(h&512&&(S.isCorrect=f[9]),u.$set(S),(!B||h&64)&&T(v,f[6]),(!B||h&576&&N!==(N=f[6]<=0||f[9]))&&(g.disabled=N),(!B||h&2)&&j!==(j=f[1]?"powers":"bits")&&T(p,j),W===(W=be(f))&&k?k.p(f,h):(k.d(1),k=W(f),k&&(k.c(),k.m(t,V))),h&3462){P=ke(f[10]);let y;for(y=0;y<P.length;y+=1){const ye=Ee(f,P,y);d[y]?(d[y].p(ye,h),R(d[y],1)):(d[y]=Ne(ye),d[y].c(),R(d[y],1),d[y].m(L,null))}for(Ve(),y=P.length;y<d.length;y+=1)Me(y);Ye()}(!B||h&512)&&ve(L,"won",f[9]),(!B||h&32)&&T(ie,f[5])},i(f){if(!B){R(u.$$.fragment,f);for(let h=0;h<P.length;h+=1)R(d[h]);B=!0}},o(f){Q(u.$$.fragment,f),d=d.filter(Boolean);for(let h=0;h<d.length;h+=1)Q(d[h]);B=!1},d(f){f&&C(t),ne(u),k.d(),Se(d,f),ue=!1,F(_e)}}}function it(e,t,n){let r,o,i,l,s,{powersCount:u=4}=t,{displayBits:a=!0}=t,g=0,b=u,v=X(u),m=X(u);function N(p){if(i)return;n(5,g++,g);const I=m.length-1-Number(p.currentTarget.dataset.power);n(2,m[I]=m[I]===0?1:0,m)}function K(){n(5,g=0),n(6,b=u),n(7,v=X(u)),n(2,m=X(u)),n(3,o=ae(Math.pow(2,u)))}function A(p){const I=p.target,V=Number(I.value);V<1||(n(0,u=V),K())}function U(){const p=Ue(m.length);if(v[p]){U();return}n(5,g++,g),n(6,b--,b),n(7,v[p]=1,v),n(2,m[p]=s[p],m)}const j=()=>n(1,a=!a);return e.$$set=p=>{"powersCount"in p&&n(0,u=p.powersCount),"displayBits"in p&&n(1,a=p.displayBits)},e.$$.update=()=>{e.$$.dirty&5&&n(10,r=m.map((p,I)=>u-1-I)),e.$$.dirty&1&&n(3,o=ae(Math.pow(2,u))),e.$$.dirty&4&&n(4,l=Ke(m)),e.$$.dirty&24&&n(9,i=l===o),e.$$.dirty&12&&n(8,s=Fe(o,m.length)),e.$$.dirty&24&&(document.title=`cplx:  ${o}: ${l} | complexity game`)},[u,a,m,o,l,g,b,v,s,i,r,N,K,A,U,j]}class ut extends oe{constructor(t){super(),re(this,t,it,ot,ee,{powersCount:0,displayBits:1})}}function lt(e){let t,n;return t=new ut({}),{c(){he(t.$$.fragment)},m(r,o){te(t,r,o),n=!0},p:O,i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){Q(t.$$.fragment,r),n=!1},d(r){ne(t,r)}}}class ft extends oe{constructor(t){super(),re(this,t,null,lt,ee,{})}}new ft({target:document.getElementById("app")});
